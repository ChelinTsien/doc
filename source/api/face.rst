人脸服务
============================

人脸重建
---------------------

**接口描述:**
::

    上传图片生成用于人脸重建的3D资源, 接口版本默认:v3, 可选v2, v3

**HTTP方法:**
::

    POST

**请求URL:**
::

    http(s)://api.avatarworks.com/service/v3/face/recon

**请求Header:**

+---------------------+---------------------------------+
| 参数名称	          | 值                              |
+---------------------+---------------------------------+
| Authorization       |签名认证串,详见: :ref:`授权认证` |
+---------------------+---------------------------------+


**请求参数:**

+------------------------+------------+------------------------------------------+
| 变量名                 | 格式       | 说明                                     |
+------------------------+------------+------------------------------------------+
| photo                  |   binary   |上传的图片内容,以multipart-form的形式上传 |
+------------------------+------------+------------------------------------------+
| gender                 |   string   |female=>女性，male=>男性，默认：female      |
+------------------------+------------+------------------------------------------+


**调用样例:**

::

    curl -X POST \
        http://api.avatarworks.com/service/v1/face/recon \
        -H 'Authorization: AW 1bf2dac253dea653b9af3a41f7816dd5aeef5c0c:MTU1Mzg0MDYxNDrI0UoB6Nghb9AvxaNVlImCTLRyNPQAsHJji3u8xWa/vw==' \
        -H 'Content-Type: application/x-www-form-urlencoded' \
        -H 'content-type: multipart/form-data; boundary=----WebKitFormBoundary7MA4YWxkTrZu0gW' \
        -F 'photo=@/home/test/63c5f4e818817caf371fde9d1daa1c05.jpg'



**返回示例:**

v2:
::

    {
        "err_code": 0,
        "ret": {

            "target_data" : "{base64数据}",
            "mapping"     : "{base64数据}",
            "face_credibility_level": 0,
            "face_width": 642
        }
    }
v3:
::

    {
        "err_code": 0,
        "ret": {

            "target_data" : "{base64数据}",
            "texture_data"     : "{base64数据}",
            "face_credibility_level": 0,
            "face_width": 642,
            "texture_key_points": [
                {
                    "y": 348,
                    "x": 122
                },
                {
                    "y": 423,
                    "x": 111
                },
                {
                    "y": 485,
                    "x": 137
                },
                {
                    "y": 589,
                    "x": 165
                },
                {
                    "y": 697,
                    "x": 240
                },
                {
                    "y": 780,
                    "x": 337
                },
                {
                    "y": 776,
                    "x": 421
                },
                {
                    "y": 774,
                    "x": 507
                },
                {
                    "y": 746,
                    "x": 594
                },
                {
                    "y": 737,
                    "x": 664
                },
                {
                    "y": 691,
                    "x": 755
                },
                {
                    "y": 589,
                    "x": 837
                },
                {
                    "y": 492,
                    "x": 858
                },
                {
                    "y": 417,
                    "x": 877
                },
                {
                    "y": 343,
                    "x": 873
                },
                {
                    "y": 241,
                    "x": 775
                },
                {
                    "y": 201,
                    "x": 715
                },
                {
                    "y": 212,
                    "x": 608
                },
                {
                    "y": 246,
                    "x": 559
                },
                {
                    "y": 235,
                    "x": 612
                },
                {
                    "y": 227,
                    "x": 707
                },
                {
                    "y": 265,
                    "x": 227
                },
                {
                    "y": 210,
                    "x": 294
                },
                {
                    "y": 211,
                    "x": 407
                },
                {
                    "y": 244,
                    "x": 458
                },
                {
                    "y": 236,
                    "x": 400
                },
                {
                    "y": 234,
                    "x": 296
                },
                {
                    "y": 315,
                    "x": 286
                },
                {
                    "y": 288,
                    "x": 358
                },
                {
                    "y": 328,
                    "x": 431
                },
                {
                    "y": 341,
                    "x": 358
                },
                {
                    "y": 313,
                    "x": 360
                },
                {
                    "y": 313,
                    "x": 721
                },
                {
                    "y": 281,
                    "x": 662
                },
                {
                    "y": 327,
                    "x": 586
                },
                {
                    "y": 339,
                    "x": 659
                },
                {
                    "y": 310,
                    "x": 654
                },
                {
                    "y": 309,
                    "x": 470
                },
                {
                    "y": 389,
                    "x": 460
                },
                {
                    "y": 477,
                    "x": 438
                },
                {
                    "y": 512,
                    "x": 462
                },
                {
                    "y": 507,
                    "x": 511
                },
                {
                    "y": 506,
                    "x": 556
                },
                {
                    "y": 475,
                    "x": 586
                },
                {
                    "y": 385,
                    "x": 556
                },
                {
                    "y": 308,
                    "x": 545
                },
                {
                    "y": 495,
                    "x": 477
                },
                {
                    "y": 486,
                    "x": 549
                },
                {
                    "y": 593,
                    "x": 393
                },
                {
                    "y": 567,
                    "x": 429
                },
                {
                    "y": 549,
                    "x": 483
                },
                {
                    "y": 556,
                    "x": 512
                },
                {
                    "y": 547,
                    "x": 542
                },
                {
                    "y": 562,
                    "x": 589
                },
                {
                    "y": 586,
                    "x": 628
                },
                {
                    "y": 611,
                    "x": 600
                },
                {
                    "y": 628,
                    "x": 557
                },
                {
                    "y": 636,
                    "x": 510
                },
                {
                    "y": 632,
                    "x": 458
                },
                {
                    "y": 617,
                    "x": 419
                },
                {
                    "y": 604,
                    "x": 447
                },
                {
                    "y": 611,
                    "x": 511
                },
                {
                    "y": 603,
                    "x": 572
                },
                {
                    "y": 577,
                    "x": 568
                },
                {
                    "y": 581,
                    "x": 513
                },
                {
                    "y": 578,
                    "x": 453
                },
                {
                    "y": 603,
                    "x": 512
                },
                {
                    "y": 460,
                    "x": 511
                },
                {
                    "y": 291,
                    "x": 317
                },
                {
                    "y": 338,
                    "x": 320
                },
                {
                    "y": 335,
                    "x": 392
                },
                {
                    "y": 294,
                    "x": 405
                },
                {
                    "y": 291,
                    "x": 616
                },
                {
                    "y": 334,
                    "x": 626
                },
                {
                    "y": 334,
                    "x": 689
                },
                {
                    "y": 286,
                    "x": 698
                }
            ],
            "picture_key_points": [
                {
                    "y": 348,
                    "x": 122
                },
                {
                    "y": 423,
                    "x": 111
                },
                {
                    "y": 485,
                    "x": 137
                },
                {
                    "y": 589,
                    "x": 165
                },
                {
                    "y": 697,
                    "x": 240
                },
                {
                    "y": 780,
                    "x": 337
                },
                {
                    "y": 776,
                    "x": 421
                },
                {
                    "y": 774,
                    "x": 507
                },
                {
                    "y": 746,
                    "x": 594
                },
                {
                    "y": 737,
                    "x": 664
                },
                {
                    "y": 691,
                    "x": 755
                },
                {
                    "y": 589,
                    "x": 837
                },
                {
                    "y": 492,
                    "x": 858
                },
                {
                    "y": 417,
                    "x": 877
                },
                {
                    "y": 343,
                    "x": 873
                },
                {
                    "y": 241,
                    "x": 775
                },
                {
                    "y": 201,
                    "x": 715
                },
                {
                    "y": 212,
                    "x": 608
                },
                {
                    "y": 246,
                    "x": 559
                },
                {
                    "y": 235,
                    "x": 612
                },
                {
                    "y": 227,
                    "x": 707
                },
                {
                    "y": 265,
                    "x": 227
                },
                {
                    "y": 210,
                    "x": 294
                },
                {
                    "y": 211,
                    "x": 407
                },
                {
                    "y": 244,
                    "x": 458
                },
                {
                    "y": 236,
                    "x": 400
                },
                {
                    "y": 234,
                    "x": 296
                },
                {
                    "y": 315,
                    "x": 286
                },
                {
                    "y": 288,
                    "x": 358
                },
                {
                    "y": 328,
                    "x": 431
                },
                {
                    "y": 341,
                    "x": 358
                },
                {
                    "y": 313,
                    "x": 360
                },
                {
                    "y": 313,
                    "x": 721
                },
                {
                    "y": 281,
                    "x": 662
                },
                {
                    "y": 327,
                    "x": 586
                },
                {
                    "y": 339,
                    "x": 659
                },
                {
                    "y": 310,
                    "x": 654
                },
                {
                    "y": 309,
                    "x": 470
                },
                {
                    "y": 389,
                    "x": 460
                },
                {
                    "y": 477,
                    "x": 438
                },
                {
                    "y": 512,
                    "x": 462
                },
                {
                    "y": 507,
                    "x": 511
                },
                {
                    "y": 506,
                    "x": 556
                },
                {
                    "y": 475,
                    "x": 586
                },
                {
                    "y": 385,
                    "x": 556
                },
                {
                    "y": 308,
                    "x": 545
                },
                {
                    "y": 495,
                    "x": 477
                },
                {
                    "y": 486,
                    "x": 549
                },
                {
                    "y": 593,
                    "x": 393
                },
                {
                    "y": 567,
                    "x": 429
                },
                {
                    "y": 549,
                    "x": 483
                },
                {
                    "y": 556,
                    "x": 512
                },
                {
                    "y": 547,
                    "x": 542
                },
                {
                    "y": 562,
                    "x": 589
                },
                {
                    "y": 586,
                    "x": 628
                },
                {
                    "y": 611,
                    "x": 600
                },
                {
                    "y": 628,
                    "x": 557
                },
                {
                    "y": 636,
                    "x": 510
                },
                {
                    "y": 632,
                    "x": 458
                },
                {
                    "y": 617,
                    "x": 419
                },
                {
                    "y": 604,
                    "x": 447
                },
                {
                    "y": 611,
                    "x": 511
                },
                {
                    "y": 603,
                    "x": 572
                },
                {
                    "y": 577,
                    "x": 568
                },
                {
                    "y": 581,
                    "x": 513
                },
                {
                    "y": 578,
                    "x": 453
                },
                {
                    "y": 603,
                    "x": 512
                },
                {
                    "y": 460,
                    "x": 511
                },
                {
                    "y": 291,
                    "x": 317
                },
                {
                    "y": 338,
                    "x": 320
                },
                {
                    "y": 335,
                    "x": 392
                },
                {
                    "y": 294,
                    "x": 405
                },
                {
                    "y": 291,
                    "x": 616
                },
                {
                    "y": 334,
                    "x": 626
                },
                {
                    "y": 334,
                    "x": 689
                },
                {
                    "y": 286,
                    "x": 698
                }
            ],
            "eye_ref_v2": {
                "y": 153.35566711426,
                "x": -0.030864065513015
            },
            "eye_ref_v1": {
                "y": 166.2290802002,
                "x": -7.4272036552429
            },
            "eye_ref_uv2": {
                "y": 0.35778492689133,
                "x": 0.49184900522232
            },
            "eye_ref_uv1": {
                "y": 0.65118116140366,
                "x": 0.26026344299316
            },
        }
    }
**PHP 代码示例:**


**Java 代码示例:**


**golang 代码示例:**
